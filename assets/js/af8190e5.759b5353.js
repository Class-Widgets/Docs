"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[170],{5404:(n,e,i)=>{i.d(e,{R:()=>l,x:()=>d});var t=i(6672);const s={},r=t.createContext(s);function l(n){const e=t.useContext(r);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:l(n.components),t.createElement(r.Provider,{value:e},n.children)}},9273:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>o,contentTitle:()=>d,default:()=>p,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"dev_docs/Plugin-Writing/2","title":"\u63d2\u4ef6\u7ed3\u6784","description":"\u76ee\u5f55","source":"@site/docs/dev_docs/Plugin-Writing/2.md","sourceDirName":"dev_docs/Plugin-Writing","slug":"/dev_docs/Plugin-Writing/2","permalink":"/dev_docs/Plugin-Writing/2","draft":false,"unlisted":false,"editUrl":"https://github.com/Class-Widgets/Docs/tree/main/docs/dev_docs/Plugin-Writing/2.md","tags":[],"version":"current","frontMatter":{},"sidebar":"devDocsSidebar","previous":{"title":"\u5f00\u59cb\u7f16\u5199\u60a8\u7684\u7b2c\u4e00\u4e2a\u63d2\u4ef6","permalink":"/dev_docs/Plugin-Writing/1"},"next":{"title":"\u63d2\u4ef6\u63a5\u53e3","permalink":"/dev_docs/Plugin-Writing/3"}}');var s=i(3420),r=i(5404);const l={},d="\u63d2\u4ef6\u7ed3\u6784",o={},c=[{value:"\u76ee\u5f55",id:"\u76ee\u5f55",level:3},{value:"\u5185\u5bb9\u7ed3\u6784",id:"\u5185\u5bb9\u7ed3\u6784",level:3},{value:"main.py (\u4e3b\u7a0b\u5e8f)",id:"mainpy-\u4e3b\u7a0b\u5e8f",level:4},{value:"<strong>init</strong>.py\uff08\u521d\u59cb\u5316\u63d2\u4ef6\uff09",id:"initpy\u521d\u59cb\u5316\u63d2\u4ef6",level:4}];function a(n){const e={code:"code",h1:"h1",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"\u63d2\u4ef6\u7ed3\u6784",children:"\u63d2\u4ef6\u7ed3\u6784"})}),"\n",(0,s.jsx)(e.h3,{id:"\u76ee\u5f55",children:"\u76ee\u5f55"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\n--plugin_path  \n\u2502\xa0\xa0icon.png\xa0\xa0# \u56fe\u6807\u6587\u4ef6\uff0c\u5c06\u663e\u793a\u5728\u63d2\u4ef6\u5e7f\u573a\u3001\u63d2\u4ef6\u7ba1\u7406\u5668\uff0c\u6210\u4e3a\u63d2\u4ef6\u7684\u6807\u5fd7  \n\u2502\xa0\xa0main.py\xa0\xa0# \u4e3b\u7a0b\u5e8f  \n\u2502\xa0\xa0plugin.json\xa0\xa0# \u63d2\u4ef6\u4fe1\u606f  \n|\xa0\xa0README.md\xa0\xa0# \u63d2\u4ef6\u7b80\u4ecb\u4fe1\u606f\uff0c\u53ef\u5728PluginPlaza\u67e5\u770b  \n\u2502\xa0\xa0settings.ui\xa0\xa0# \u8bbe\u7f6e\u9875  \n\u2502\xa0\xa0__init__.py\xa0\xa0# \u521d\u59cb\u5316\u6587\u4ef6\uff0cClass Widgets\u5c06\u4f1a\u5f15\u5165\u5176\u4e2d\u5f15\u7528\u7684\u5185\u5bb9  \n\u251c\u2500ClassWidgets\xa0\xa0# \u63d2\u4ef6\u57fa\u7c7b  \n\u2502\xa0\xa0\xa0base.py  \n\u2514\u2500\u5176\u4ed6\u60a8\u9700\u8981\u6dfb\u52a0\u7684\u5185\u5bb9  \n\xa0\xa0\xa0\xa0\u5176\u4ed6\u81ea\u5b9a\u4e49\u5185\u5bb9  \n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u5185\u5bb9\u7ed3\u6784",children:"\u5185\u5bb9\u7ed3\u6784"}),"\n",(0,s.jsx)(e.h4,{id:"mainpy-\u4e3b\u7a0b\u5e8f",children:"main.py (\u4e3b\u7a0b\u5e8f)"}),"\n",(0,s.jsx)(e.p,{children:"\u4e3b\u7a0b\u5e8f\u6267\u884c\u7684\u90e8\u5206\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'\nfrom\xa0.ClassWidgets.base\xa0import\xa0PluginBase,\xa0SettingsBase,\xa0PluginConfig\xa0\xa0# \u5bfc\u5165CW\u7684\u57fa\u7c7b  \n\nclass\xa0Plugin(PluginBase):\xa0\xa0# \u63d2\u4ef6\u7c7b  \n\xa0\xa0\xa0\xa0def\xa0__init__(self,\xa0cw_contexts,\xa0method):\xa0\xa0# \u521d\u59cb\u5316  \n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0super().__init__(cw_contexts,\xa0method)\xa0\xa0# \u8c03\u7528\u7236\u7c7b\u521d\u59cb\u5316\u65b9\u6cd5  \n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"""  \n\u63d2\u4ef6\u521d\u59cb\u5316\uff0c\u63d2\u4ef6\u88ab\u6267\u884c\u65f6\u5c06\u4f1a\u6267\u884c\u6b64\u90e8\u5206\u7684\u4ee3\u7801  \n"""  \n\n\xa0\xa0\xa0\xa0def\xa0execute(self):\xa0\xa0# \u81ea\u542f\u52a8\u6267\u884c\u90e8\u5206  \n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"""  \n\u5f53 Class Widgets\u542f\u52a8\u65f6\uff0c\u5c06\u4f1a\u6267\u884c\u6b64\u90e8\u5206\u7684\u4ee3\u7801  \n"""  \n\n\xa0\xa0\xa0\xa0def\xa0update(self,\xa0cw_contexts):\xa0\xa0# \u81ea\u52a8\u66f4\u65b0\u90e8\u5206\uff08\u6bcf\u79d2\u66f4\u65b0\uff09  \n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0super().update(cw_contexts)\xa0\xa0# \u83b7\u53d6\u6700\u65b0\u63a5\u53e3  \n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"""  \nClass Widgets \u672c\u4f53\u4f1a\u6bcf1\u79d2\u66f4\u65b0\u4e00\u6b21\u72b6\u6001\uff0c\u540c\u65f6\u4e5f\u4f1a\u8c03\u7528\u6b64\u90e8\u5206\u7684\u4ee3\u7801\u3002  \n\u53ef\u5728\u6b64\u90e8\u5206\u63d2\u5165\u52a8\u6001\u66f4\u65b0\u7684\u5185\u5bb9  \n"""  \n\nclass\xa0Settings(SettingsBase):\xa0\xa0# \u8bbe\u7f6e\u7c7b  \n\xa0\xa0\xa0\xa0def\xa0__init__(self,\xa0plugin_path,\xa0parent=None):\xa0\xa0# \u521d\u59cb\u5316  \n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0super().__init__(plugin_path,\xa0parent)  \n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"""  \n\u5728\u8fd9\u91cc\u5199\u8bbe\u7f6e\u9875\u9762  \n"""  \n\xa0\xa0\xa0\xa0# \u5176\u4ed6\u4ee3\u7801\u2026\u2026  \n\n'})}),"\n",(0,s.jsxs)(e.h4,{id:"initpy\u521d\u59cb\u5316\u63d2\u4ef6",children:[(0,s.jsx)(e.strong,{children:"init"}),".py\uff08\u521d\u59cb\u5316\u63d2\u4ef6\uff09"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"init"}),".py \u5b58\u653e\u4e86\u63d2\u4ef6\u6240\u9700\u8981\u7684\u65b9\u6cd5\uff0cClass Widgets\u5c06\u4f1a\u52a0\u8f7d\u5176\u4e2d\u5f15\u5165\u7684\u5185\u5bb9\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"\nfrom\xa0.main\xa0import\xa0Plugin\xa0\xa0# \u4ece main.py \u5bfc\u5165 Plugin \u7c7b  \nfrom\xa0.main\xa0import\xa0Settings\xa0\xa0# \u5982\u679c\u6709\u5b9a\u4e49\u8bbe\u7f6e\u7c7b\uff0c\u5219\u9700\u8981\u5f15\u5165  \n\n"})})]})}function p(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(a,{...n})}):a(n)}}}]);